<div class="Box-sc-g0xbh4-0 bJMeLZ js-snippet-clipboard-copy-unpositioned" data-hpc="true"><article class="markdown-body entry-content container-lg" itemprop="text"><p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://raw.githubusercontent.com/wiki/synthetos/g2/images/g2core.png"><img src="https://raw.githubusercontent.com/wiki/synthetos/g2/images/g2core.png" width="300" height="129" alt="g2核心" style="max-width: 100%;"></a></p>
<p dir="auto"><a href="https://travis-ci.org/synthetos/g2" rel="nofollow"><img src="https://camo.githubusercontent.com/5974f733c38668d8ce1b348a51e26dbdf346485222674bb9f09ff20c3f70ca16/68747470733a2f2f7472617669732d63692e6f72672f73796e746865746f732f67322e7376673f6272616e63683d65646765" alt="构建状态" data-canonical-src="https://travis-ci.org/synthetos/g2.svg?branch=edge" style="max-width: 100%;"></a></p>
<div class="markdown-heading" dir="auto"><h1 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这是什么</font></font></h1><a id="user-content-what-it-is" class="anchor" aria-label="永久链接： 这是什么" href="#what-it-is"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">g2core 是一款 9 轴 (XYZABC+UVW) 运动控制系统，专为中小型机器的高性能而设计。</font></font></p>
<ul dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数控系统</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3D打印</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">激光切割</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">机器人技术</font></font></li>
</ul>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们的默认目标是</font></font><a href="https://store.arduino.cc/arduino-due" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Arduino Due</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，尽管它也可以与其他板一起使用。</font></font></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一些特点：</font></font></p>
<ul dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9轴运动（XYZABC+UVW）。
</font></font><ul dir="auto">
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意</font></font></strong><font style="vertical-align: inherit;"></font><code>edge</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- UVW目前</font><font style="vertical-align: inherit;">仅在分支中。</font></font></li>
</ul>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于加速规划的急动控制运动（三阶运动规划）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">状态显示（“？”字符）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">USB 串行上的 XON/XOFF 和 RTS/CTS 协议</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 JSON 的 RESTful 接口</font></font></li>
</ul>
<div class="markdown-heading" dir="auto"><h1 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">邮件列表</font></font></h1><a id="user-content-mailing-list" class="anchor" aria-label="永久链接：邮件列表" href="#mailing-list"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对于 g2core 的用户和开发人员讨论，我们最近创建了一个邮件列表：</font></font></p>
<ul dir="auto">
<li><a href="https://lists.links.org/mailman/listinfo/g2core" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://lists.links.org/mailman/listinfo/g2core</font></font></a></li>
</ul>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">欢迎大家踊跃参加。😄</font></font></p>
<div class="markdown-heading" dir="auto"><h1 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">g2core - 边缘分支</font></font></h1><a id="user-content-g2core---edge-branch" class="anchor" aria-label="永久链接：g2core - 边缘分支" href="#g2core---edge-branch"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">G2 </font></font><a href="https://github.com/synthetos/g2/tree/edge"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Edge</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是用于测试正在开发的新功能的分支。新功能在功能分支中开发并合并到边缘分支中。定期将边缘提升为（稳定）主控。</font></font></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Edge 适合喜欢冒险的人。不能保证稳定，但我们会尽力实现这一点。对于生产用途，我们建议使用</font></font><a href="https://github.com/synthetos/g2/tree/master"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Master 分支</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">固件版本 101</font></font><code>{fb:101.xx}</code></h2><a id="user-content-firmware-build-101-fb101xx" class="anchor" aria-label="永久链接：固件版本 101 {fb:101.xx}" href="#firmware-build-101-fb101xx"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">功能增强</font></font></h3><a id="user-content-feature-enhancements" class="anchor" aria-label="永久链接：功能增强" href="#feature-enhancements"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加了新功能。有关详细信息，请参阅链接的问题和拉取请求</font></font></p>
<ul dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加</font></font><a href="https://github.com/synthetos/g2/wiki/9-Axis-UVW-Operation"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UVW 轴</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以实现 9 轴控制。</font></font><a href="https://github.com/synthetos/g2/issues/304" data-hovercard-type="issue" data-hovercard-url="/synthetos/g2/issues/304/hovercard"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">另请参阅：问题 304</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加了</font></font><a href="https://github.com/synthetos/g2/wiki/Feedhold,-Resume,-and-Other-Simple-Commands"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">增强的进给功能</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加了明确的</font></font><a href="https://github.com/synthetos/g2/wiki/Feedhold,-Resume,-and-Other-Simple-Commands#job-kill"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Job Kill ^d</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - 具有 M30 的效果（程序结束）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">记录的</font></font><a href="https://github.com/synthetos/g2/wiki/g2core-Communications#enqack---checking-for-clean-startup"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通信启动测试</font></font></a></li>
</ul>
<div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内部变更和错误修复</font></font></h3><a id="user-content-internal-changes-and-bug-fixes" class="anchor" aria-label="永久链接：内部更改和错误修复" href="#internal-changes-and-bug-fixes"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对于这个非常大的拉取请求，内部发生了很多变化。以下列表重点介绍了其中一些更改，但并不全面。</font></font></p>
<ul dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">向 JSON 变量添加了显式类型和类型测试。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作为上述内容的一部分，32 位整数不是浮点类型转换，因此保留完整的精度。行数现在可以可靠地达到 2,000,000,000</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作为重构大表的初始阶段，转向 getter 和 setter :)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">错误修复：修复了进给出口速度计算中的求根问题</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">错误修复：修复了坐标旋转代码中 B 轴和 C 轴分配的错误</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PR #334 A、B、C 轴半径默认使用电机 4、5、6</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PR #336，问题 #336 冷却液初始化的部分解决方案</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PR #299、问题 #298 修复了读取嵌套 JSON 值错误的问题</font></font></li>
</ul>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">功能增强</font></font></h2><a id="user-content-feature-enhancements-1" class="anchor" aria-label="永久链接：功能增强" href="#feature-enhancements-1"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">固件版本 101</font></font><code>{fb:101.xx}</code></h3><a id="user-content-firmware-build-101-fb101xx-1" class="anchor" aria-label="永久链接：固件版本 101 {fb:101.xx}" href="#firmware-build-101-fb101xx-1"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fb:101 版本主要是 fb:100 分支的内部更改。以下是重点内容，每个项目的更多详细信息如下：</font></font></p>
<ul dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将分段（最小）级别的运动执行更新为线速度而不是恒定速度，从而使运动更加平滑并更忠实地执行加加速度限制。 （顺便说一下，电机的声音也稍微安静一些，更“自然”。）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更新了 JT（连接点集成时间，又名“转弯”）处理，使其更加优化，并将最后一个移动视为没有活动轴的移动的拐角。这允许基于允许的急动度和有效 JT 值的非零停止速度。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">探测增强。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加了对 gQuintic（版本 B）的支持并修复了 gQuadratic 板支持的问题。 （这主要发生在莫泰特。）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">温度控制增强
</font></font><ul dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">温度输入在编译时配置不同。 （正在进行中。）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PID控制已调整为PID+FF（比例、积分和微分，带前馈）。在这种情况下，前馈是当前温度与环境温度之差的乘数。由于目前没有环境温度的温度传感器，因此使用理想的室温 21°C。</font></font></li>
</ul>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过添加更多用于实时反馈和配置的 JSON 控件，对 TMC2130 提供更完整的支持。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">初步支持 Core XY 运动学。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">董事会可以更好地控制规划器设置。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实验设置为使移动 (G0) 使用“高加加速度”轴设置。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">现在，输出在电路板初始化时（及以后）进行配置，以更忠实地遵循设置。这包括尽快将引脚设置为高电平或低电平。</font></font></li>
</ul>
<div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">固件版本 100</font></font><code>{fb:100.xx}</code></h3><a id="user-content-firmware-build-100-fb100xx" class="anchor" aria-label="永久链接：固件版本 100 {fb:100.xx}" href="#firmware-build-100-fb100xx"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fb:100 版本是 fb:089 及更早版本分支的重大更改。它经历了大约一年的开发，并具有许多主要功能增强，总结如下。本自述文件的其余部分和链接的 wiki 页面对这些内容进行了更详细的描述。</font></font></p>
<ul dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">新的 Gcode 和 CNC 功能</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3D 打印支持，包括</font></font><a href="https://github.com/synthetos/g2/wiki/Marlin-Compatibility"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Marlin 兼容性</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GPIO 系统增强</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">规划器增强功能和其他操作改进以实现高速操作</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对新处理器的初步支持，包括 ARM M7</font></font></li>
</ul>
<div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">项目变更</font></font></h3><a id="user-content-project-changes" class="anchor" aria-label="永久链接：项目变更" href="#project-changes"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该项目现在称为 g2core（即使存储库仍然是 g2）。从此版本开始，g2core 代码库从 TinyG 代码库中分离出来。 TinyG 将继续支持 Xmega 8 位平台，并将添加新功能，特别是与 CNC 铣削应用的持续支持相关的功能。 g2core项目将像目前一样专注于各种ARM平台，并添加8位平台上不可能的功能。</font></font></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在此版本中，Motate 硬件抽象层已拆分为一个单独的项目，并作为 git 子模块包含在 g2core 中。该版本还为跨平台/跨目标编译提供了更好的支持。下面提供了项目更改的摘要，本自述文件和链接的 wiki 页面中有详细信息。</font></font></p>
<ul dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">移动子模块</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">跨平台/跨目标支持</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">多处理器支持 - ARM M3、M4、M7 内核</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设备树/多种电机类型</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">简化的主机对板通信协议（线路模式）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于主机到板通信的 NodeJS 主机模块</font></font></li>
</ul>
<div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更多即将推出</font></font></h3><a id="user-content-more-to-come" class="anchor" aria-label="永久链接：更多内容即将推出" href="#more-to-come"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fb:100 版本是正在进行和计划中的许多其他增强功能的基础，包括：</font></font></p>
<ul dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GPIO系统的进一步增强</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">额外的 JSON 处理和 UI 支持</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">增强 3D 打印机支持，包括简化的 g2 打印机语言</font></font></li>
</ul>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Edge 分支的变更日志</font></font></h2><a id="user-content-changelog-for-edge-branch" class="anchor" aria-label="永久链接：Edge 分支的变更日志" href="#changelog-for-edge-branch"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">边缘分支，构建 101.xx</font></font></h3><a id="user-content-edge-branch-build-101xx" class="anchor" aria-label="永久链接：边缘分支，Build 101.xx" href="#edge-branch-build-101xx"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此版本主要侧重于支持基于 Atmel SamS70 系列的新主板，以及完善运动控制和期待已久的功能增强。随着开发的进行，该列表将被添加到其中。</font></font></p>
<div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">边缘分支，构建 100.xx</font></font></h3><a id="user-content-edge-branch-build-100xx" class="anchor" aria-label="永久链接：边缘分支，Build 100.xx" href="#edge-branch-build-100xx"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Build 100.xx 有许多变化，主要与扩展 Gcode 支持和支持使用 g2core 的 3D 打印有关。其中包括温度控制、自动床调平、规划器性能改进和 Gcode 中的活动 JSON 注释。</font></font></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通信已取得进展，支持线路模式协议，从而大大简化主机通信和非常快速的 Gcode 流的流量控制。请阅读通讯页面了解详细信息。如果您正在构建 UI 或主机控制器，另请参阅 NodeJS 通信模块文档。</font></font></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Build 100.xx 还显着改进了项目结构，以在同一代码库中支持多种处理器架构、硬件配置和机器配置。 Motate 已被分成自己的子项目。如果您正在编码或编译，我们建议您仔细阅读开发页面。</font></font></p>
<div class="markdown-heading" dir="auto"><h4 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">功能变化：</font></font></h4><a id="user-content-functional-changes" class="anchor" aria-label="永久链接：功能变化：" href="#functional-changes"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意：单击箭头旁边的标题可展开并显示详细信息。</font></font></em></p>
<details><summary><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">线速度段执行</font></font></strong></summary>
<ul dir="auto">
<li>The overall motion is still jerk-controlled and the computation of motion remains largely the same (although slightly simplified). At the smallest level above raw steps (what we call "segments," which are nominally 0.25ms to 1ms in duration) we previously executed the steps at a constant velocity. We now execute them with a linear change from a start velocity to an end velocity. This results in smoother motion that is more faithful to the planned jerk constraints.</li>
<li>This changed the way the forward differences are used to compute the segment speeds as well. Previously, we were computing the curve at the midpoint (time-wise) of each segment in order to get the median velocity. Now that we want the start and end velocity of each segment we only compute the end (time-wise) of each segment, and use that again later as the start-point of the next segment.</li>
</ul>
</details>
<details><summary><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">探测增强功能</font></font></strong></summary>
<ul dir="auto">
<li>Added <code>{"prbs":true}</code> to store the current position as if it were to position of a succesful probe.</li>
<li>Added <code>{"prbr":true}</code> to enable and <code>{"prbr":false}</code> to enable and disable (respectively) the JSON <code>{prb:{...}}</code> report after a probe.</li>
</ul>
</details>
<details><summary><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gQuintic 支持</font></font></strong></summary>
<ul dir="auto">
<li>Support for the gQuintic rev B was added. Support for rev D will come shortly.</li>
</ul>
</details>
<details><summary><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">温度控制增强</font></font></strong></summary>
<ul dir="auto">
<li>Added the following settings defines:
<ul dir="auto">
<li><code>HAS_TEMPERATURE_SENSOR_1</code>, <code>HAS_TEMPERATURE_SENSOR_2</code>, and <code>HAS_TEMPERATURE_SENSOR_3</code></li>
<li><code>EXTRUDER_1_OUTPUT_PIN</code>, <code>EXTRUDER_2_OUTPUT_PIN</code>, and <code>BED_OUTPUT_PIN</code></li>
<li>Added <code>BED_OUTPUT_INIT</code> in order to control configuration of the Bed output pin settings.</li>
<li>Defaults to <code>{kNormal, fet_pin3_freq}</code>.</li>
<li><code>EXTRUDER_1_FAN_PIN</code> for control of the temperature-enabled fan on extruder 1. (Only available on extruder 1 at the moment.)</li>
</ul>
</li>
<li>(<em>Experimental</em>) Analog input is now interpreted through one of various <code>ADCCircuit</code> objects.
<ul dir="auto">
<li>Three are provided currently: <code>ADCCircuitSimplePullup</code>, <code>ADCCircuitDifferentialPullup</code>, <code>ADCCircuitRawResistance</code></li>
<li><code>Thermistor</code> and <code>PT100</code> objects no longer take the pullup value in their constructor, but instead take a pointer to an <code>ADCCircuit</code> object.</li>
</ul>
</li>
<li><code>Thermistor</code> and <code>PT100</code> objects no longer assume an <code>ADCPin</code> is used, but now take the type that conforms to the <code>ADCPin</code> interface as a template argument.</li>
<li><strong>TODO:</strong> Make more of these configurable at runtime. Separate the ADC input from the consumer, and allow other things than temperature to read it.</li>
<li>PID+FF control adds feed-forward (FF) to adjust the output to a reasonable minimum based on heat loss dues to room temperature.
<ul dir="auto">
<li>This can be effectively disabled, making the controller a PID controller, by setting the F value to <code>0.0</code>.</li>
<li><strong>Warning</strong> setting this value too high can cause thermal runaway. Set this value conservatively (low), since there's currently no ambient temperature, and the actual heat loss may be less than computed. This will be magnified by another heater (such as that on a heat bed of a 3D printer) in close proximity.</li>
</ul>
</li>
</ul>
</details>
<details><summary><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TMC2130 JSON 控件</font></font></strong></summary>
<ul dir="auto">
<li>Added the following setting keys to the motors (<code>1</code> - <code>6</code>):
<ul dir="auto">
<li><code>ts</code>   - <em>(R)</em> get the value of the <code>TSTEP</code> register</li>
<li><code>pth</code>  - <em>(R/W)</em> get/set the value of the <code>TPWMTHRS</code> register</li>
<li><code>cth</code>  - <em>(R/W)</em> get/set the value of the <code>TCOOLTHRS</code> register</li>
<li><code>hth</code>  - <em>(R/W)</em> get/set the value of the <code>THIGH</code> register</li>
<li><code>sgt</code>  - <em>(R/W)</em> get/set the value of the <code>sgt</code> value of the <code>COOLCONF</code> register</li>
<li><code>sgr</code>  - <em>(R)</em> get the <code>SG_RESULT</code> value of the <code>DRV_STATUS</code> register</li>
<li><code>csa</code>  - <em>(R)</em> get the <code>CS_ACTUAL</code> value of the <code>DRV_STATUS</code> register</li>
<li><code>sgs</code>  - <em>(R)</em> get the <code>stallGuard</code> value of the <code>DRV_STATUS</code> register</li>
<li><code>tbl</code>  - <em>(R/W)</em> get/set the <code>TBL</code> value of the <code>CHOPCONF</code> register</li>
<li><code>pgrd</code> - <em>(R/W)</em> get/set the <code>PWM_GRAD</code> value of the <code>PWMCONF</code> register</li>
<li><code>pamp</code> - <em>(R/W)</em> get/set the <code>PWM_AMPL</code> value of the <code>PWMCONF</code> register</li>
<li><code>hend</code> - <em>(R/W)</em> get/set the <code>HEND_OFFSET</code> value of the <code>CHOPCONF</code> register</li>
<li><code>hsrt</code> - <em>(R/W)</em> get/set the <code>HSTRT/TFD012</code> value of the <code>CHOPCONF</code> register</li>
<li><code>smin</code> - <em>(R/W)</em> get/set the <code>semin</code> value of the <code>COOLCONF</code> register</li>
<li><code>smax</code> - <em>(R/W)</em> get/set the <code>semax</code> value of the <code>COOLCONF</code> register</li>
<li><code>sup</code>  - <em>(R/W)</em> get/set the <code>seup</code> value of the <code>COOLCONF</code> register</li>
<li><code>sdn</code>  - <em>(R/W)</em> get/set the <code>sedn</code> value of the <code>COOLCONF</code> register</li>
</ul>
</li>
<li>Note that all gets retrieve the last cached value.</li>
</ul>
</details>
<details><summary><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">核心 XY 运动学支持</font></font></strong></summary>
<ul dir="auto">
<li>Enabled at compile-time by setting the <code>KINEMATICS</code> define to <code>KINE_CORE_XY</code>
<ul dir="auto">
<li>The default (and only other valid value) for <code>KINEMATICS</code> is <code>KINE_CARTESIAN</code></li>
</ul>
</li>
<li>Note that the X and Y axes must have the same settings, or the behavior is undefined.</li>
<li>For the sake of motor mapping, the values <code>AXIS_COREXY_A</code> and <code>AXIS_COREXY_B</code> have been created.</li>
<li>Example usage:</li>
</ul>
<div class="highlight highlight-source-c++ notranslate position-relative overflow-auto" dir="auto"><pre>#<span class="pl-k">define</span> <span class="pl-en">M1_MOTOR_MAP</span>                AXIS_COREXY_A           <span class="pl-c"><span class="pl-c">//</span> 1ma</span>
#<span class="pl-k">define</span> <span class="pl-en">M2_MOTOR_MAP</span>                AXIS_COREXY_B           <span class="pl-c"><span class="pl-c">//</span> 2ma</span></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="#define M1_MOTOR_MAP                AXIS_COREXY_A           // 1ma
#define M2_MOTOR_MAP                AXIS_COREXY_B           // 2ma" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
</details>
<details><summary><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从板文件控制规划器设置</font></font></strong></summary>
<ul dir="auto">
<li>The defines <code>PLANNER_QUEUE_SIZE</code> and <code>MIN_SEGMENT_MS</code> are now set in the <code>board/*/hardware.h</code> files.</li>
<li><code>PLANNER_QUEUE_SIZE</code> sets the size of the planner buffer array.
<ul dir="auto">
<li>Default value if not defined: <code>48</code></li>
</ul>
</li>
<li><code>MIN_SEGMENT_MS</code> sets the minimum segment time (in milliseconds) and several other settings that are comuted based on it.
<ul dir="auto">
<li>Default values if not defined: <code>0.75</code></li>
<li>A few of the computed values are shown:</li>
</ul>
<div class="highlight highlight-source-c++ notranslate position-relative overflow-auto" dir="auto"><pre>#<span class="pl-k">define</span> <span class="pl-en">NOM_SEGMENT_MS</span>              ((<span class="pl-k">float</span>)MIN_SEGMENT_MS*<span class="pl-c1">2.0</span>)        <span class="pl-c"><span class="pl-c">//</span> nominal segment ms (at LEAST MIN_SEGMENT_MS * 2)</span>
#<span class="pl-k">define</span> <span class="pl-en">MIN_BLOCK_MS</span>                ((<span class="pl-k">float</span>)MIN_SEGMENT_MS*<span class="pl-c1">2.0</span>)        <span class="pl-c"><span class="pl-c">//</span> minimum block (whole move) milliseconds</span></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="#define NOM_SEGMENT_MS              ((float)MIN_SEGMENT_MS*2.0)        // nominal segment ms (at LEAST MIN_SEGMENT_MS * 2)
#define MIN_BLOCK_MS                ((float)MIN_SEGMENT_MS*2.0)        // minimum block (whole move) milliseconds" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
</li>
</ul>
</details>
<details><summary><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">高冲击力实验横动</font></font></strong></summary>
<ul dir="auto">
<li>The new define <code>TRAVERSE_AT_HIGH_JERK</code> can be set to <code>true</code>, making traverse (<code>G0</code>) moves (including <code>E</code>-only moves in Marlin-flavored gcode mode) will use the jerk-high (<code>jh</code>) settings.
<ul dir="auto">
<li>If set to <code>false</code> or undefined <code>G0</code> moves will continue to use the jerk-max (<code>jm</code>) settings that feed (<code>G1</code>) moves use.</li>
</ul>
</li>
</ul>
</details>
<details><summary><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PID+FF - 添加前馈</font></font></strong></summary>
<ul dir="auto">
<li>There is a new JSON value <code>f</code> in each <code>pid</code><em><code>n</code></em> object (read-only, for reporting) as well as an <code>f</code> setting in the <code>he</code><em><code>n</code></em> objects (for control).
<ul dir="auto">
<li>This is controlled in the settings file via <code>H</code><em><code>n</code></em><code>_DEFAULT_F</code>, such as <code>H1_DEFAULT_F</code>. Default value is <code>0.0</code>.</li>
<li>This is a value that is multiplied to by current temp - 21 and added to the current computed output.</li>
<li><strong>Warning!</strong> Setting this value too high can result in thermal runaway. Set it conservatively (low) or disable it completely if in doubt.</li>
<li>Set the <code>he</code><em><code>n</code></em><code>f</code> value to <code>0.0</code> to effectively disable feed-forward.</li>
</ul>
</li>
</ul>
</details>
<details><summary><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">尽快设置输出</font></font></strong></summary>
<ul dir="auto">
<li>At board initialization, the output value on each of the <code>out</code> objects is set to whatever the pin is configured to be "inactive." This is based on the settings file <code>DO</code><em>n</em><code>_MODE</code> setting.</li>
<li>For example, if <code>DO10_MODE == IO_ACTIVE_LOW</code> then the pin at <code>DO10</code> is initialized as <code>HIGH</code> at board setup. This happen even before the <code>main()</code> function starts, shortly after the GPIO clocks are enabled for each port.</li>
</ul>
</details>
</article></div>
